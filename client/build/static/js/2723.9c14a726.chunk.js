"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[2723],{2723:function(e,s,r){r.r(s),r.d(s,{default:function(){return p}});var c=r(885),n=r(2791),t=r(2252),a=r(4165),l=r(5861),i=r(3504),d=r(4569),o=r.n(d),h=r(9085),x=r(184),u=function(){var e=(0,n.useState)([]),s=(0,c.Z)(e,2),r=s[0],t=s[1],d=(0,n.useState)(""),u=(0,c.Z)(d,2),p=u[0],j=u[1],v=(0,n.useState)(""),f=(0,c.Z)(v,2),m=f[0],g=f[1],b=(0,n.useState)([]),w=(0,c.Z)(b,2),Z=w[0],k=w[1],y=(0,n.useState)([]),U=(0,c.Z)(y,2),C=U[0],S=U[1];(0,n.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/getData",e.next=4,o().get("/api/getData");case 4:s=e.sent,k(s.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,n.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/getJobs",e.next=4,o().get("/api/getJobs");case 4:s=e.sent,S(s.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var A=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(s){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r="/api/setRole/".concat(m),c=o().put(r,{role:p}),console.log(c.data)}catch(s){console.log(s)}case 1:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/getAllusers",e.next=4,o().get("/api/getAllusers");case 4:s=e.sent,t(s.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var D=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(s){var r,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),g(s.target.id),e.prev=2,r="/api/deleteUser/".concat(m),e.next=6,o().delete(r);case 6:c=e.sent,h.Am.success("User Deleted Successfully"),console.log(c.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(s){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{class:"container-fluid",id:"main",style:{marginLeft:"1rem"},children:(0,x.jsxs)("div",{class:"row row-offcanvas row-offcanvas-left",children:[(0,x.jsx)("div",{class:"col-md-3 col-lg-2 sidebar-offcanvas",id:"sidebar",role:"navigation",style:{border:"1px solid #ccc"},children:(0,x.jsxs)("ul",{class:"nav flex-column pl-1 p-2",children:[(0,x.jsx)("li",{class:"nav-item text-bg-secondary p-3",children:"Overview"}),(0,x.jsx)("li",{class:"nav-item p-3",children:(0,x.jsx)(i.rU,{to:"/admin/data",class:"list-group-item  main-color-bg ",children:"Dashboard"})}),(0,x.jsx)("li",{class:"nav-item p-3",children:(0,x.jsx)(i.rU,{to:"/admin/data/add-jobs",class:"list-group-item ",children:"Add Jobs"})}),(0,x.jsx)("li",{class:"nav-item p-3",children:(0,x.jsx)(i.rU,{to:"/admin/data/add-company",class:"list-group-item",children:"Add Company"})}),(0,x.jsx)("li",{class:"nav-item p-3",children:(0,x.jsx)(i.rU,{to:"/admin/data/add-internships",class:"list-group-item",children:"Add Internships"})}),(0,x.jsx)("li",{class:"nav-item p-3",children:(0,x.jsx)(i.rU,{to:"/forgot-password",class:"list-group-item ",children:"Change Password"})}),(0,x.jsx)("li",{class:"nav-item p-3",children:(0,x.jsx)(i.rU,{to:"/forgot-password",class:"list-group-item ",children:"Users"})})]})}),(0,x.jsxs)("div",{class:"col-md-9 col-lg-9 main",children:[(0,x.jsx)("h1",{class:"text-bold m-3",children:"Admin Dashboard"}),(0,x.jsxs)("div",{class:"row mb-3 text-center mt-2",children:[(0,x.jsx)("div",{class:"col-xl-3 col-lg-6",children:(0,x.jsx)("div",{class:"card card-inverse card-success",children:(0,x.jsxs)("div",{class:"card-block bg-success",children:[(0,x.jsx)("div",{class:"rotate mt-2",children:(0,x.jsx)("i",{class:"fa fa-user fa-3x"})}),(0,x.jsx)("h6",{class:"text-uppercase",children:"Users"}),(0,x.jsx)("h1",{class:"display-1",children:r.length})]})})}),(0,x.jsx)("div",{class:"col-xl-3 col-lg-6",children:(0,x.jsx)("div",{class:"card card-inverse card-danger",children:(0,x.jsx)("div",{class:"card-block bg-danger",children:(0,x.jsxs)(i.rU,{to:"/admin/data/add-company",class:"list-group-item text-dark",children:[(0,x.jsx)("div",{class:"rotate mt-2",children:(0,x.jsx)("i",{class:"fa fa-list fa-3x"})}),(0,x.jsx)("h6",{class:"text-uppercase",children:"Companies"}),(0,x.jsx)("h1",{class:"display-1",children:Z.length})]})})})}),(0,x.jsx)("div",{class:"col-xl-3 col-lg-6",children:(0,x.jsx)("div",{class:"card card-inverse card-info",children:(0,x.jsx)("div",{class:"card-block bg-info",children:(0,x.jsxs)(i.rU,{to:"/admin/data/add-jobs",class:"list-group-item text-dark",children:[(0,x.jsx)("div",{class:"rotate mt-2",children:(0,x.jsx)("i",{class:"fa fa-building-o fa-3x"})}),(0,x.jsx)("h6",{class:"text-uppercase",children:"Jobs"}),(0,x.jsx)("h1",{class:"display-1",children:C.length})]})})})}),(0,x.jsx)("div",{class:"col-xl-3 col-lg-6",children:(0,x.jsx)("div",{class:"card card-inverse card-warning",children:(0,x.jsxs)("div",{class:"card-block bg-warning",children:[(0,x.jsx)("div",{class:"rotate mt-2",children:(0,x.jsx)("i",{class:"fa fa-share fa-3x"})}),(0,x.jsx)("h6",{class:"text-uppercase",children:"Course"}),(0,x.jsx)("h1",{class:"display-1",children:"36"})]})})})]}),(0,x.jsx)("hr",{}),(0,x.jsx)("hr",{}),(0,x.jsx)("form",{onSubmit:A,children:(0,x.jsx)("div",{class:"table-responsive-lg",children:(0,x.jsxs)("table",{className:"table table-striped",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",children:"Index"}),(0,x.jsx)("th",{children:"Name"}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"Role"}),(0,x.jsx)("th",{children:"Delete"}),(0,x.jsx)("th",{children:"Edit"}),(0,x.jsx)("th",{children:"Give Role"})]})}),(0,x.jsx)("tbody",{children:r.map((function(e,s){return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{scope:"row",children:s+1}),(0,x.jsx)("td",{children:e.name}),(0,x.jsx)("td",{children:e.email}),(0,x.jsx)("td",{children:e.role}),(0,x.jsx)("td",{children:(0,x.jsx)("button",{class:"btn btn-danger",id:e._id,onClick:D,children:"Delete"})}),(0,x.jsx)("td",{children:(0,x.jsx)("button",{class:"btn btn-success",children:"Edit"})}),(0,x.jsx)("td",{children:(0,x.jsxs)("select",{class:"form-control",onChange:function(s){g(e._id),j(s.target.value)},children:[(0,x.jsx)("option",{disabled:!0,selected:!0,children:"Select Role"}),(0,x.jsx)("option",{value:"admin",children:"Admin"}),(0,x.jsx)("option",{value:"user",children:"User"}),(0,x.jsx)("option",{value:"recruiter",children:"Recruiter"})]})}),(0,x.jsx)("td",{children:(0,x.jsx)("button",{class:"btn btn-primary",children:"Submit"})})]})}))})]})})})]})]})})},p=function(e){var s=e.requiredRole,r=(0,n.useContext)(t.V),a=(0,c.Z)(r,1)[0];return(0,x.jsx)(x.Fragment,{children:a&&a.user&&a.user.role===s?(0,x.jsx)("div",{style:{marginTop:"6rem"},children:(0,x.jsx)(u,{})}):(0,x.jsx)("div",{className:"p-5 container",children:window.location.href="/"})})}}}]);
//# sourceMappingURL=2723.9c14a726.chunk.js.map