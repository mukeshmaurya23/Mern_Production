"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7213],{7213:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var s=t(885),r=t(2791),o=t(9085),i=t(2252),c=t(4569),a=t.n(c),u=t(501),l=t(3458),m=t(184),d=function(e){var n=(0,r.useContext)(i.V),t=(0,s.Z)(n,1)[0],c=(0,r.useState)(""),d=(0,s.Z)(c,2),f=d[0],p=d[1],h=(0,r.useState)(!1),x=(0,s.Z)(h,2),g=x[0],j=x[1],v=new Date(e.comment.createdAt),C=v.getFullYear(),b=v.getMonth()+1,w=v.getDate(),y=v.getHours(),F=v.getMinutes(),N=v.getSeconds(),S="".concat(C,"-").concat(b,"-").concat(w," ").concat(y,":").concat(F,":").concat(N),L=[(0,m.jsxs)("span",{onClick:function(){j(!g)},children:["Reply to ",e.comment.writer]},"comment-basic-reply-to")];return(0,m.jsx)("div",{children:(0,m.jsx)("section",{class:"gradient-custom",children:(0,m.jsx)("div",{class:"container",children:(0,m.jsx)("div",{class:"row d-flex p-3",children:(0,m.jsx)("div",{class:"col-md-12 col-lg-10 col-xl-8",children:(0,m.jsx)("div",{class:"card",children:(0,m.jsx)("div",{class:"card-body",children:(0,m.jsx)("div",{class:"row",children:(0,m.jsx)("div",{class:"col",children:(0,m.jsxs)("div",{class:"d-flex flex-start",children:[(0,m.jsx)("img",{class:"rounded-circle shadow-1-strong me-3",src:"https://toppng.com/uploads/preview/user-account-management-logo-user-icon-11562867145a56rus2zwu.png",alt:"avatar",width:"65",height:"65"}),(0,m.jsxs)("div",{class:"flex-grow-1 flex-shrink-1",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{class:"d-flex justify-content-between align-items-center",children:[(0,m.jsxs)("p",{class:"mb-1",children:[e.comment.writer,(0,m.jsx)("span",{class:"small m-2",children:S})]}),(0,m.jsxs)(u.Link,{to:"#",children:[(0,m.jsx)("i",{class:"fas fa-reply fa-xs"}),(0,m.jsxs)("span",{class:"small",children:[" ",L]})]})]}),(0,m.jsx)("p",{class:"small mb-0",children:e.comment.content})]}),g&&(0,m.jsxs)("form",{onSubmit:function(n){n.preventDefault();var s={writer:t.user?t.user.firstName:"Anonymous",responseTo:e.comment._id,content:f};a().post(l.NW,s).then((function(n){n.data.success?(console.log(n.data.result),p(""),j(!g),e.refreshFunction(n.data.result),o.Am.success("Comment Submitted")):window.location.reload()}))},children:[(0,m.jsx)("textarea",{style:{width:"100%",borderRadius:"5px"},onChange:function(e){p(e.currentTarget.value)},value:f,className:"form-control m-3",placeholder:"write some comments"}),(0,m.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"15px"},children:"Submit"})]})]})]})})})})})})})})})})};var f=function e(n){var t,o=(0,r.useState)(0),i=(0,s.Z)(o,2),c=i[0],a=i[1],u=(0,r.useState)(!1),l=(0,s.Z)(u,2),f=l[0],p=l[1];return(0,r.useEffect)((function(){var e=0;n.CommentLists.map((function(t){t.responseTo===n.parentCommentId&&e++})),a(e)}),[n.CommentLists,n.parentCommentId]),(0,m.jsxs)("div",{children:[c>0&&(0,m.jsxs)("p",{style:{fontSize:"14px",color:"gray",cursor:"pointer"},onClick:function(){p(!f)},children:["View ",c," more comment(s)"]}),(0,m.jsx)("div",{style:{marginLeft:"5rem"},children:f&&(t=n.parentCommentId,n.CommentLists.map((function(s,o){return(0,m.jsx)(r.Fragment,{children:s.responseTo===t&&(0,m.jsxs)("div",{children:[(0,m.jsx)(d,{comment:s,refreshFunction:n.refreshFunction}),(0,m.jsx)(e,{CommentLists:n.CommentLists,parentCommentId:s._id,refreshFunction:n.refreshFunction})]},o)})})))})]})};var p=function(e){var n=(0,r.useState)(""),t=(0,s.Z)(n,2),c=t[0],u=t[1],p=(0,r.useContext)(i.V),h=(0,s.Z)(p,1)[0];return(0,m.jsxs)("div",{children:[(0,m.jsxs)("span",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:["Top Comments(",e.CommentLists.length,")"]}),(0,m.jsx)("br",{}),(0,m.jsx)("hr",{}),(0,m.jsxs)("form",{style:{display:"flex",width:"100%",maxWidth:"100%"},onSubmit:function(n){n.preventDefault();var t={content:c,writer:h.user?h.user.firstName:"Anonymous"};""!==c?a().post(l.NW,t).then((function(n){n.data.success?(console.log(n.data),o.Am.success("Comment Submitted"),u(""),e.refreshFunction(n.data.result)):window.location.reload()})):o.Am.error("Please write something")},children:[(0,m.jsx)("textarea",{onChange:function(e){u(e.currentTarget.value)},value:c,placeholder:"write some comments",className:"form-control p-2"}),(0,m.jsx)("br",{}),(0,m.jsx)("button",{className:"",style:{width:"20%",height:"62px",backgroundColor:"#0D6EFD",color:"white",border:"none",marginLeft:"10px",borderRadius:"5px"},children:"Submit"})]}),e.CommentLists&&e.CommentLists.map((function(n,t){return!n.responseTo&&(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(d,{comment:n,refreshFunction:e.refreshFunction},t),(0,m.jsx)(f,{CommentLists:e.CommentLists,parentCommentId:n._id,refreshFunction:e.refreshFunction})]})}))]})},h=function(){var e=(0,r.useState)([]),n=(0,s.Z)(e,2),t=n[0],o=n[1];(0,r.useEffect)((function(){a().get(l.MN).then((function(e){o(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[]);return(0,m.jsxs)("div",{className:"container",style:{marginTop:"6rem",marginBottom:"6rem"},children:[(0,m.jsx)(p,{CommentLists:t,refreshFunction:function(e){o(t.concat(e))}}),(0,m.jsx)("hr",{}),console.log(t)]})}},3458:function(e,n,t){t.d(n,{AZ:function(){return w},B9:function(){return x},Bp:function(){return A},Bu:function(){return F},DV:function(){return p},Jq:function(){return m},MN:function(){return L},NW:function(){return T},Np:function(){return k},Ny:function(){return C},S9:function(){return f},T0:function(){return g},Uk:function(){return S},VG:function(){return c},X6:function(){return o},XH:function(){return s},Xf:function(){return i},_A:function(){return a},bP:function(){return j},bw:function(){return D},gK:function(){return N},ib:function(){return u},nb:function(){return y},ok:function(){return h},p:function(){return r},qF:function(){return v},rB:function(){return b},u9:function(){return d},xt:function(){return l}});var s="/api/getData",r="/api/createData",o="/api/deleteData",i="/api/updateData",c="/api/createCourse",a="/api/deleteCourse",u="/api/getCourse",l="/api/updateCourse",m="/api/getJobs",d="/api/createJobs",f="/api/deleteJobs",p="/api/getFavJobs",h="/api/postNewsTicker",x="/api/postTestimonial",g="/api/getTestimonial",j="/api/deleteTestimonial",v="/api/getNewsTicker",C="/api/setRole",b="/api/getAllusers",w="/api/deleteUser",y="/api/users",F="/api/password-reset",N="/api/openAi",S="/api/analyzeResume",L="/api/getComments",T="/api/postComment",k="",D="/api/googlelogin",A="/api/auth"}}]);
//# sourceMappingURL=7213.2a41ed12.chunk.js.map